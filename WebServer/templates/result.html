{% extends "base.html" %}

{% block links %}
{% if pagination.items | length > 0 %}
<a id="download" href="{{ url_for('download_by_query', query=query) }}" target="_blank">Download All</a>
{% endif %}
<a href="http://192.168.56.125:7990/projects/ZWCAD_W/repos/productmanage/browse/03-Tools/DwgFinder" target="_blank">Help</a>
{% endblock %}

{% block result %}
<div class="limiter">
  <div class="container-table100">
  <div class="wrap-table100">
  <div class="table100">
  <table>
  <thead>
  <tr class="table100-head">
  {% for column in columns %}
    {% if column|lower == "path" %}
    <th class="long-column">{{ column }}</th>
    {% else %}
    <th class="short-column">{{ column }}</th>
    {% endif %}
  {% endfor %}
  </tr>
  </thead>
  <tbody>
  {% for row in pagination.items %}
  <tr>
  {% for column in columns %}
    {% if column|lower() == "path" %}
    <td class="long-column">
      <a href="{{ url_for('download', id=row['ID']) }}" target="_blank">{{ row[column] }}</a>
    </td>
    {% else %}
    <td class="short-column">{{ row[column] }}</td>
    {% endif %}
  {% endfor %}
  </tr>
  {% endfor %}
  </tbody>
  </table>
  </div>
  </div>
  </div>
  {% if pagination.total > config["ENTRY_PER_PAGE"] %}
  <div class="footer">
    <div class="pagination">
      {% if pagination.has_prev %}
      <a href="{{ url_for('search', q=query, page=pagination.prev_num) }}">&laquo;</a>
      {% endif %}
      {% for page in pagination.iter_pages(right_current=2, left_edge=1, right_edge=1) %}
        {% if page is none %}
        <a href="#">â€¦</a>
        {% elif page != pagination.page %}
        <a href="{{ url_for('search', q=query, page=page) }}">{{ page }}</a>
        {% else %}
        <a href="{{ url_for('search', q=query, page=page) }}" class="active">{{ page }}</a>
        {% endif %}
      {% endfor %}
      {% if pagination.has_next %}
      <a href="{{ url_for('search', q=query, page=pagination.next_num) }}">&raquo;</a>
      {% endif %}
    </div>
  </div>
  {% endif %}
  <p id="total" hidden>{{ pagination.total }}</p>
</div>
{% endblock %}